(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1290:()=>{},1805:(e,t,r)=>{Promise.resolve().then(r.bind(r,9822)),Promise.resolve().then(r.t.bind(r,1290,23))},9822:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>d,_:()=>n});var i=r(5155),a=r(2115);let u=(0,a.createContext)(void 0),d=e=>{let{children:t}=e,[r,d]=(0,a.useState)(()=>{let e=localStorage.getItem("marblelux_cart");return e?JSON.parse(e):[]});(0,a.useEffect)(()=>{localStorage.setItem("marblelux_cart",JSON.stringify(r))},[r]);let n=r.reduce((e,t)=>e+t.quantity,0),l=r.reduce((e,t)=>e+t.price*t.quantity,0);return(0,i.jsx)(u.Provider,{value:{cart:r,addToCart:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;d(r=>r.find(t=>t.id===e.id)?r.map(r=>r.id===e.id?{...r,quantity:r.quantity+t}:r):[...r,{...e,quantity:t}])},removeFromCart:e=>{d(t=>t.filter(t=>t.id!==e))},updateQuantity:(e,t)=>{t<1||d(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))},cartTotal:l,cartCount:n},children:t})},n=()=>{let e=(0,a.useContext)(u);if(void 0===e)throw Error("useCart must be used within CartProvider");return e}}},e=>{e.O(0,[741,441,255,358],()=>e(e.s=1805)),_N_E=e.O()}]);